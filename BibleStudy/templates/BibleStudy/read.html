{% extends 'Users/base.html' %}
{% load custom_filters %}
{% block content %}

<br><br><br><br>

<div class="content-container" >
  <div class="container">
    <br><br>
    <div style="display: flex;">
    <div class="dropdown">
      <button class="btn btn-dark dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        {{ bible_id }}
      </button>
      <ul class="dropdown-menu dropdown-menu-dark">
        {% for version in versions %}
          <li ><a class="dropdown-item" href="{% url 'read' version book chapter %}">{{ version }}</a></li>
        {% endfor %}
        
      </ul>
    </div>

    <div class="dropdown" style="padding-left: 10px;">
      <button class="btn btn-dark dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        {{ book }}
      </button>
      <ul class="dropdown-menu dropdown-menu-dark">
        {% for book_name in books %}
          <li ><a class="dropdown-item" href="{% url 'read' bible_uid book_name chapter %}">{{ book_name }}</a></li>
        {% endfor %}
        
      </ul>
    </div>

    <div class="dropdown" style="padding-left: 10px;">
      <button class="btn btn-dark dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        {{ chapter }}
      </button>
      <ul class="dropdown-menu dropdown-menu-dark">
        {% for chapter in chapters %}
          <li ><a class="dropdown-item" href="{% url 'read' bible_uid book chapter.order %}">{{ chapter.order }}</a></li>
        {% endfor %}
        
      </ul>
    </div>
    </div>
    <br><br>
    

    <br>
    

    
     

    

<div class="read-view">
  <div class="text-center">
    <a class="btn btn-info" >Save</a>
</div>
<br><br>
  {% for verse in data %}
    <p class="p" onclick="showPopup('{{ verse.verse }}')" >{{ verse.verse }} {{ verse.text }}</p>
  {% endfor %}
  




    

</div>


</div>

<div class="bookmark-card" id="bookmark" style="display: none;">
  <div class="spinner-grow text-danger top-right" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <h6 style="color:fuchsia;"><i class="bi bi-bookmark"> </i>BookMark</h6>
  <form method="post">
    {% csrf_token %}
    <input name="verse" id ='verse'>
    <p>Add <strong style="color: coral;">{{ book }} {{ chapter }}:<span id="clickedVerse"></span></strong> to bookmark.</p>

    <button  class="btn btn-danger bookmark-btn" itemid="saveBookmarkBtn">Save</button>
  </form>

  <!-- Use a span to display the clicked verse ID dynamically -->
  
</div>



<script>
  function showPopup(verseId) {
      // ... your existing code
      // Assuming you have the following context variables
      var book = "{{ book }}";
      var chapter = "{{ chapter }}";

      // Set the value of the hidden input for the verse ID
      $('#clickedVerse').val(verseId);
      $('#verse').val(verseId);


      // Show the bookmark form
      $('#bookmark').show();
  }

        
</script>
</div>





{% endblock %}